(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.CrucibleSearchPlugin={},r.Vue))})(this,function(r,e){"use strict";const u={class:"search-container"},d=e.createElementVNode("h1",null,"Crucible Resource Search",-1),p={class:"search-box"},h=e.createElementVNode("p",null,"Try it - enter a PokÃ©mon type (number):",-1),i=e.defineComponent({__name:"CrucibleSearch",setup(o){const t=e.inject("router");e.onMounted(()=>{console.log("CrucibleSearch mounted"),console.log("router",t)});const n=s=>{console.log("0",s),t.push({path:"/result-tag-search",query:{tag:s||"1"}}),console.log("2",s,t)};return(s,c)=>(e.openBlock(),e.createElementBlock("div",u,[d,e.createElementVNode("div",p,[h,e.createElementVNode("input",{type:"text",placeholder:"Enter a Tag",onKeyup:c[0]||(c[0]=e.withKeys(a=>n(a.target.value),["enter"]))},null,32)])]))}}),_=async o=>{try{const t=await fetch(`https://pokeapi.co/api/v2/type/${o.toString()}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return[(await t.json()).name]}catch(t){return console.log(t),[]}},f=o=>(e.pushScopeId("data-v-232bde45"),o=o(),e.popScopeId(),o),g={class:"search-results-container"},m=f(()=>e.createElementVNode("h2",null,"Search Results",-1)),l=((o,t)=>{const n=o.__vccOpts||o;for(const[s,c]of t)n[s]=c;return n})(e.defineComponent({__name:"DisplayResult",setup(o){const t=e.inject("router"),n=e.ref("");e.onMounted(()=>{t?(console.log("current route is ",t.currentRoute.value.query.tag),n.value=t.currentRoute.value.query.tag,s(n.value)):n.value="undefined"});const s=async c=>{if(console.log("Fetching data for tag:",c),c){const a=await _(c);console.log("Search results:",a)}else console.log("no tag provided")};return(c,a)=>(e.openBlock(),e.createElementBlock("div",g,[m,e.createTextVNode(" search Tag "+e.toDisplayString(n.value),1)]))}}),[["__scopeId","data-v-232bde45"]]);function y(o,t){console.log("Creating Search Plugin");const{router:n}=t;o.component("CrucibleSearch",i),o.component("DisplayResult",l),o.provide("router",n),n.addRoute({path:"/result-tag-search",component:l}),console.log("Router",n)}r.CrucibleSearch=i,r.DisplayResult=l,r.createSearchPlugin=y,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
